import{s as d,y as u,v as a,E as v,a as w,b as L,j as S,l as h,A as U,c as p,d as b,B as R,f as C}from"./vendor.f3f6c909.js";const N=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}};N();function P({value:t,className:r,onChange:i}){const o=d(null),e=d(),n=d({});return u(()=>{const s=new v({state:w.create({doc:"",extensions:[L,S()]}),parent:o.current});e.current=s},[]),u(()=>{const s=e.current;if(t!==n.current.text){const c=s.state.update({changes:[{from:0,to:s.state.doc.length,insert:t}]});s.dispatch(c),n.current={text:t,doc:c.state.doc}}},[t]),u(()=>{const s=e.current,c=setInterval(()=>{const l=s.state.doc;if(l!==n.current.doc){const f=l.toString();n.current={text:f,doc:l},i(f)}},500);return()=>clearInterval(c)}),a("div",{ref:o,className:r})}function m(t){const r=new URL(t),i={base:r.protocol+(r.host?"//"+r.host:"")+r.pathname,params:[]};for(const[o,e]of r.searchParams){let n;try{n=m(e)}catch{n=e}i.params.push([o,n])}return i}function g(t){const r=new URLSearchParams;for(const[i,o]of t.params)r.append(i,typeof o=="string"?o:g(o));return t.base+"?"+r.toString()}function k(){return a("div",{className:"links"},a("a",{href:"https://github.com/meowtec/url-editor",target:"_blank"},a("svg",{height:"24",width:"24","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1"},a("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"}))))}const x=()=>{var r;const t=(r=new URL(location.href).searchParams.get("url"))!=null?r:"";try{return new URL(t),t}catch{return""}},E=b(t=>{const r=new URL(location.href);r.searchParams.set("url",t),history.replaceState({url:t},"",r.href)},1e3),y=t=>p.stringify(m(t),null,"  ");function O(){const[t,r]=h(()=>x()),[i,o]=h(()=>{try{return y(t)}catch{return""}}),e=c=>{try{o(y(c))}catch{}},n=c=>{const{value:l}=c.target;r(l),e(l)},s=U(c=>{o(c);try{r(g(p.parse(c)))}catch{}},[]);return u(()=>{E(t)},[t]),a("div",{className:"app"},a("input",{value:t,className:"input",placeholder:"Input URL here",onChange:n}),a(P,{className:"editor",value:i,onChange:s}),a(k,null))}R(a(C,null,a(O,null)),document.querySelector("#root"));
